<!DOCTYPE html>
<html>

<head>
    <script src="../scripts/global.js"></script>
    <script src="../scripts/jeopardy.js"></script>
    <link rel="stylesheet" href="../styles/global.css">
    <link rel="stylesheet" href="../styles/jeopardy.css">
</head>

<body>
    <div id="loadScreen" class="loadScreen flex-column">
        <img src="../images/logos/jeoparty_logo2.png" style="max-height: 60%;">
        <p style="color: rgba(255, 255, 255, 0.747);font-size: 4rem;margin:0px">How many teams?</p>
        <div id="playnumbers" class="flex-row" style="width: 80%;">
            <div class="playNum" onclick=loadPlayers(2)>2</div>
            <div class="playNum" onclick=loadPlayers(3)>3</div>
            <div class="playNum" onclick=loadPlayers(4)>4</div>
        </div>
    </div>
    <div style="display: none;">
        <audio id="rightAudio" controls>
            <source src="../audios/milli_right.mp3" type="audio/mpeg">
        </audio>
        <audio id="wrongAudio" controls>
            <source src="../audios/milli_wrong.mp3" type="audio/mpeg">
        </audio>
        <audio id="winnerAudio" controls>
            <source src="../audios/winner.mp3" type="audio/mpeg">
        </audio>
        <audio id="moneyAudio" controls>
            <source src="../audios/milli_money.mp3" type="audio/mpeg">
        </audio>
    </div>
    <div class="backImage">
        <img src="../images/backgrounds/jeop_back.png">
    </div>
    <div class="content" style="position: relative">
        <div id="messageDiv" class="message flex-column hidden" onclick="hideMessage()">
            <div class="messageTitle">
                CHRISTIAN
            </div>
            <div class="messageText">
                WINS!
            </div>
        </div>
        <div class="splitContent">
            <div class="mainSide">
                <div class="mainGrid">
                    <div id="question" class="question flippedDiv" onclick="hideQuestion()">
                        <div class="questionDiv">
                            <span id="questionText"></span>
                        </div>
                    </div>
                    <div id="mainGrid" style="max-width: 100%;height: 100%;display: flex;flex-direction: row;">
                    </div>
                    <div id="doubleGrid" class="hidden invisible" style="max-width: 100%;height: 100%;display: flex;flex-direction: row;">
                    </div>
                    <div id="finalGrid" class="hidden invisible" style="max-width: 100%;height: 100%;display: flex;flex-direction: column;">
                        <div id="final_q" class="finalQuestion" onclick="document.getElementById('finalQuestion').classList.remove('invisible')"><span id="finalQuestion" style="text-align: center;" class="invisible">Final Question Text</span></div>
                        <div class="wagerTitle">Place Your Wagers:</div>
                        <div id="wagers" class="wagers grid-3">
                            <div id="team_1_wagers" class="team">
                                <input id="team_1_wager_name" class="team_name"> 
                                <input id="team_1_wager_points" class="team_points" placeholder="0" type="number" min="0" oninput="validateWager(this)"/>
                                <input class="team_name" style="border-bottom:none !important;border-top:rgb(32, 32, 90) 5px solid !important;"> 
                                <div class="wager_buttons"><div class="wagerButton icon" onclick="finalPoints(1,true)">i</div><div class="wagerButton icon" onclick="finalPoints(1,false)">*</div></div>
                            </div>
                            <div id="team_2_wagers" class="team">
                                <input id="team_2_wager_name"class="team_name"> 
                                <input  id="team_2_wager_points"class="team_points" placeholder="0" type="number" min="0" oninput="validateWager(this)"/>
                                <input class="team_name" style="border-bottom:none !important;border-top:rgb(32, 32, 90) 5px solid !important;"> 
                                <div class="wager_buttons"><div class="wagerButton icon" onclick="finalPoints(2,true)">i</div><div class="wagerButton icon" onclick="finalPoints(2,false)">*</div></div>
                            </div>
                            <div id="team_3_wagers" class="team">
                                <input id="team_3_wager_name"class="team_name">
                                <input  id="team_3_wager_points"class="team_points" placeholder="0" type="number" min="0" oninput="validateWager(this)" />
                                <input class="team_name" style="border-bottom:none !important;border-top:rgb(32, 32, 90) 5px solid !important;"> 
                                <div class="wager_buttons"><div class="wagerButton icon" onclick="finalPoints(3,true)">i</div><div class="wagerButton icon" onclick="finalPoints(3,false)">*</div></div>
                            </div>
                            <div id="team_4_wagers" class="team">
                                <input id="team_4_wager_name"class="team_name">
                                <input  id="team_4_wager_points" class="team_points" placeholder="0" type="number" min="0" oninput="validateWager(this)" />
                                <input class="team_name" style="border-bottom:none !important;border-top:rgb(32, 32, 90) 5px solid !important;"> 
                                <div class="wager_buttons"><div class="wagerButton icon" onclick="finalPoints(4,true)">i</div><div class="wagerButton icon" onclick="finalPoints(4,false)">*</div></div>
                            </div>
                            <div id="team_5_wagers" class="team">
                                <input id="team_4_wager_name"class="team_name">
                                <input  id="team_4_wager_points" class="team_points" placeholder="0" type="number" min="0" oninput="validateWager(this)" />
                                <input class="team_name" style="border-bottom:none !important;border-top:rgb(32, 32, 90) 5px solid !important;"> 
                                <div class="wager_buttons"><div class="wagerButton icon" onclick="finalPoints(4,true)">i</div><div class="wagerButton icon" onclick="finalPoints(4,false)">*</div></div>
                            </div>
                            <div id="team_6_wagers" class="team">
                                <input id="team_4_wager_name"class="team_name">
                                <input  id="team_4_wager_points" class="team_points" placeholder="0" type="number" min="0" oninput="validateWager(this)" />
                                <input class="team_name" style="border-bottom:none !important;border-top:rgb(32, 32, 90) 5px solid !important;"> 
                                <div class="wager_buttons"><div class="wagerButton icon" onclick="finalPoints(4,true)">i</div><div class="wagerButton icon" onclick="finalPoints(4,false)">*</div></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="scoreAside">
                <div id="teams_list" class="teams_list invisible">
                    <div id="current_points" class="hidden"></div>
                    <div id="team_1" class="team">
                        <input class="team_name"  placeholder="Team 1" onchange="updateTeamWagerName(this,1)"/>
                        <input class="team_points" value="0" type="number" min="0"/>
                    </div>
                    <div id="team_2" class="team">
                        <input class="team_name"  placeholder="Team 2" onchange="updateTeamWagerName(this,2)"/>
                        <input class="team_points" value="0" type="number" min="0"/>
                    </div>
                    <div id="team_3" class="team">
                        <input class="team_name"  placeholder="Team 3" onchange="updateTeamWagerName(this,3)"/>
                        <input class="team_points" value="0" type="number" min="0"/>
                    </div>
                    <div id="team_4" class="team">
                        <input class="team_name"  placeholder="Team 4" onchange="updateTeamWagerName(this,4)"/>
                        <input class="team_points" value="0" type="number" min="0" />
                    </div>
                </div>
                <div class="toolbox">
                    <img src="../images/logos/grid.png" onclick="showGrid()">
                    <img src="../images/logos/doublejep.png" onclick="showDoubleJeopardy()">
                    <img src="../images/logos/trophy.png" onclick="showFinalJeopardy()">
                    
                    <img src="../images/logos/reset.png" onclick="showBoard()" style="margin-left: auto;">
                    <img src="../images/logos/home.png" onclick="Global.goHome()">
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
    //let showLocation;
    function ready(fn) {
        if (document.readyState != 'loading') {
            fn();
        } else {
            document.addEventListener('DOMContentLoaded', fn);
        }
    }

    ready(function () {
        Global.init();
        Jeop.init();
        loadPlayers = Jeop.loadPlayers;
        showQuestion = Jeop.showQuestion;
        hideQuestion = Jeop.hideQuestion;
        showBoard = Jeop.showBoard;
        showColumn = Jeop.showColumn;
        showFinalJeopardy = Jeop.showFinalJeopardy;
        showDoubleJeopardy = Jeop.showDoubleJeopardy;
        showGrid = Jeop.showGrid;
        finalPoints = Jeop.finalPoints;
    });

    function validateWager(element){
        if(parseInt(element.value) > parseInt(element.getAttribute("max"))){
            element.value = element.value.slice(0, -1)
        }
    }

    function hideMessage() {
        document.getElementById('messageDiv').classList.add('hidden');
    }

    function updateTeamWagerName(oldElement, index){
        document.getElementById('team_'+index+'_wager_name').value = oldElement.value
    }

</script>

</html>